{# Navigation Breadcrumb Component Usage: {% include
'components/breadcrumb.html' with {'items': [{'text': 'Home', 'href': '/'},
{'text': 'Dashboard', 'href': '/dashboard'}, {'text': 'Current Page'}]} %} #}

<nav class="breadcrumb-nav" aria-label="Breadcrumb">
  <ol class="breadcrumb">
    {% for item in items %}
    <li
      class="breadcrumb-item{% if loop.last %} active{% endif %}"
      {%
      if
      loop.last
      %}
      aria-current="page"
      {%
      endif
      %}
    >
      {% if item.href and not loop.last %}
      <a href="{{ item.href }}" class="breadcrumb-link">
        {% if item.icon %}<span class="breadcrumb-icon">{{ item.icon }}</span>{%
        endif %} {{ item.text }}
      </a>
      {% else %} {% if item.icon %}<span class="breadcrumb-icon"
        >{{ item.icon }}</span
      >{% endif %} {{ item.text }} {% endif %}
    </li>
    {% endfor %}
  </ol>
</nav>

<style>
  .breadcrumb-nav {
    margin-bottom: var(--space-4);
  }

  .breadcrumb {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    list-style: none;
    margin: 0;
    padding: 0;
    font-size: 0.875rem;
  }

  .breadcrumb-item {
    display: flex;
    align-items: center;
  }

  .breadcrumb-item + .breadcrumb-item::before {
    content: "/";
    margin: 0 var(--space-2);
    color: var(--muted);
    font-size: 0.875rem;
  }

  .breadcrumb-item.active {
    color: var(--muted);
    font-weight: 500;
  }

  .breadcrumb-link {
    color: var(--accent);
    text-decoration: none;
    transition: color 0.15s ease-in-out;
  }

  .breadcrumb-link:hover {
    color: var(--accent-hover, var(--accent));
    text-decoration: underline;
  }

  .breadcrumb-icon {
    margin-right: var(--space-1);
    font-size: 1rem;
  }

  /* Responsive breadcrumb */
  @media (max-width: 768px) {
    .breadcrumb {
      font-size: 0.8rem;
    }

    .breadcrumb-item + .breadcrumb-item::before {
      margin: 0 var(--space-1);
      font-size: 0.8rem;
    }

    /* Hide intermediate items on mobile, keep first and last */
    .breadcrumb-item:not(:first-child):not(:last-child) {
      display: none;
    }

    .breadcrumb-item:nth-last-child(2)::after {
      content: "...";
      margin: 0 var(--space-2);
      color: var(--muted);
    }
  }

  /* Alternative separator styles */
  .breadcrumb.breadcrumb-arrow .breadcrumb-item + .breadcrumb-item::before {
    content: "→";
  }

  .breadcrumb.breadcrumb-chevron .breadcrumb-item + .breadcrumb-item::before {
    content: "›";
    font-size: 1.2rem;
  }

  .breadcrumb.breadcrumb-pipe .breadcrumb-item + .breadcrumb-item::before {
    content: "|";
  }

  /* Compact variant */
  .breadcrumb.breadcrumb-compact {
    font-size: 0.8rem;
  }

  .breadcrumb.breadcrumb-compact .breadcrumb-item + .breadcrumb-item::before {
    margin: 0 var(--space-1);
  }

  /* Styled background variant */
  .breadcrumb-nav.breadcrumb-background {
    background: var(--bg-subtle);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius);
    border: 1px solid var(--border);
  }
</style>
